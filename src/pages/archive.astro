---
import Header from "../components/Header.jsx";
import Navbar from "../components/Navbar.jsx";
import "../styles/global.css";

import { formatDate } from "../utils/formatDate";

import { getSortedPostsData } from "../utils/loadPosts";
const posts = getSortedPostsData();
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <title>Archive | Salsabil</title>
  </head>
  <body class="bg-primary text-tertiary">
    <Header />
    <Navbar />
    <main class="container mx-auto w-3/4 mt-4 font-libre">
      <h1 class="text-2xl font-bold mb-6">Archive</h1>
      <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {
          posts.map((post) => (
            <article class="bg-white shadow-md rounded-lg p-4 hover:bg-primary-dark transition duration-300">
              <h2 class="text-lg font-semibold mb-2">{post.title}</h2>
              <p class="text-sm text-secondary mb-4">{formatDate(post.date)}</p>
              <p class="text-sm line-clamp-3">{post.description}</p>
              <a
                href={`/posts/${post.id}`}
                class="text-secondary font-bold mt-4 block"
              >
                Read More
              </a>
            </article>
          ))
        }
      </section>
    </main>
  </body>
</html>
